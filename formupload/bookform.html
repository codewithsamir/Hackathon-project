<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Book Selling</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="max-w-6xl mx-auto p-6">
        <h1 class="text-3xl font-bold text-gray-800 text-center mb-8">Admin Panel - Manage Books</h1>

        <!-- Add New Book Form -->
        <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Add a New Book</h2>
            <form id="bookForm" class="space-y-4">
                <!-- Book Name -->
                <div>
                    <label for="bookName" class="block text-sm font-medium text-gray-700">Book Name</label>
                    <input type="text" id="bookName" name="bookName" 
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           placeholder="Enter book name" required>
                </div>
                <!-- Author Name -->
                <div>
                    <label for="authorName" class="block text-sm font-medium text-gray-700">Author Name</label>
                    <input type="text" id="authorName" name="authorName" 
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           placeholder="Enter author name" required>
                </div>
                <!-- Description -->
                <div>
                    <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
                    <textarea id="description" name="description" rows="3"
                              class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                              placeholder="Enter book description" required></textarea>
                </div>
                <!-- Rating -->
                <div>
                    <label for="rating" class="block text-sm font-medium text-gray-700">Rating (Out of 5)</label>
                    <input type="number" id="rating" name="rating" min="0" max="5" step="0.1"
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           placeholder="Enter book rating" required>
                </div>
                <!-- Price -->
                <div>
                    <label for="price" class="block text-sm font-medium text-gray-700">Price</label>
                    <input type="text" id="price" name="price" 
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           placeholder="Enter price (e.g., ₹1000)" required>
                </div>
                <!-- PDF Upload -->
                <div>
                    <label for="bookPdf" class="block text-sm font-medium text-gray-700">Upload PDF</label>
                    <input type="file" id="bookPdf" name="bookPdf" accept="application/pdf"
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           required>
                </div>
                <!-- Thumbnail Upload -->
                <div>
                    <label for="thumbnail" class="block text-sm font-medium text-gray-700">Upload Thumbnail</label>
                    <input type="file" id="thumbnail" name="thumbnail" accept="image/*"
                           class="w-full mt-1 p-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" 
                           required>
                </div>
                <!-- Submit Button -->
                <div class="text-center">
                    <button type="button" id="addBookBtn" 
                            class="w-full py-2 px-4 bg-indigo-600 text-white font-medium text-sm rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                        Add Book
                    </button>
                </div>
            </form>
        </div>

        <!-- Book List -->
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Book List</h2>
            <div id="bookList" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                <!-- Books will be dynamically added here -->
            </div>
        </div>
    </div>

    <script>
        // Handle adding new book
        const bookForm = document.getElementById('bookForm');
        const bookList = document.getElementById('bookList');
        const addBookBtn = document.getElementById('addBookBtn');

        addBookBtn.addEventListener('click', () => {
            // Get form values
            const bookName = document.getElementById('bookName').value;
            const authorName = document.getElementById('authorName').value;
            const description = document.getElementById('description').value;
            const rating = document.getElementById('rating').value;
            const price = document.getElementById('price').value;
            const bookPdf = document.getElementById('bookPdf').files[0];
            const thumbnail = document.getElementById('thumbnail').files[0];

            if (bookName && authorName && description && rating && price && bookPdf && thumbnail) {
                // Create a new book card
                const bookCard = document.createElement('div');
                bookCard.className = 'border rounded-lg shadow-md p-4 bg-white';

                // Create a URL for the uploaded PDF file and thumbnail
                const pdfUrl = URL.createObjectURL(bookPdf);
                const thumbnailUrl = URL.createObjectURL(thumbnail);

                bookCard.innerHTML = `
                    <img src="${thumbnailUrl}" alt="Thumbnail" class="w-full h-48 object-cover rounded-md mb-4">
                    <h3 class="text-lg font-bold text-gray-800">${bookName}</h3>
                    <p class="text-sm text-gray-600">By: ${authorName}</p>
                    <p class="text-sm text-gray-600 mt-2">${description}</p>
                    <p class="text-sm text-yellow-600 mt-2">Rating: ⭐ ${rating}/5</p>
                    <p class="text-sm text-green-600 mt-2">Price: ${price}</p>
                    <a href="${pdfUrl}" target="_blank" class="text-indigo-500 mt-2 inline-block underline">
                        Download PDF
                    </a>
                `;

                // Add book card to the list
                bookList.appendChild(bookCard);

                // Clear the form
                bookForm.reset();
            } else {
                alert('Please fill all fields and upload both a PDF and a thumbnail.');
            }
        });
    </script>
</body>
</html>
